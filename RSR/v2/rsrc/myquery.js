var em={};$(document).ready(function(){for(var e in em)"function"==typeof em[e].init?em[e].init():console.error("Your block "+e+" doesn't define init-method.")});
!function(){for(var o,e=function(){},n=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],r=n.length,i=window.console=window.console||{};r--;)o=n[r],i[o]||(i[o]=e)}();
!function(){em.ajax={},em.ajax.init=function(){em.ajax.postsSearch()},em.ajax.postsSearch=function(){var a=$("form.ajax-posts");a.on("submit",function(a){a.preventDefault();var s=$(this),e=s.find(".ajax-posts__errors"),n="/wp-site/wp/wp-admin/admin-ajax.php",t=s.find(".ajax-posts__results"),i=s.find('input[name="paged"]');s.find('input[name="per_page"]');s.find(".ajax-posts__show-more i").addClass("fa-spin");var r=s.serializeArray();r.push({name:"action",value:s.attr("action")}),$.ajax({url:n,type:s.attr("method"),data:r,success:function(a){if(e.empty(),0===a.errors.length)i.val(function(a,s){return++s}),t.append($(a.data.html)),em.animations.capture();else{$(".ajax-posts__show-more").css({opacity:0,visibility:"hidden"});for(var n in a.errors)if("end"!=n){var r=$("<li></li>");r.html(a.errors[n]),e.append(r)}}s.find(".ajax-posts__show-more i").removeClass("fa-spin")},error:function(a,s,e){var t=["Issues requesting: "+n,e];console.log(t)}})}),a.submit(),a.find(".ajax-posts__show-more").on("click",function(s){s.preventDefault(),a.submit()})}}();
!function(){em.animations={elements:{},winWidthOk:!1},em.animations.init=function(){em.animations.capture(),em.animations.checkRequiredWidth(),em.animations.animateFirstBlockIn(),em.animations.setup()},em.animations.capture=function(){em.animations.elements=$("[data-animate]")},em.animations.checkRequiredWidth=function(){window.innerWidth>1024?(em.animations.winWidthOk=!0,em.animations.animate(),em.animations.animateFirstBlockIn()):em.animations.winWidthOk=!1},em.animations.canWe=function(){return em.animations.elements.length&&em.animations.winWidthOk===!0?!0:!1},em.animations.setup=function(){$(window).on("scroll",function(){return em.animations.canWe()?void em.animations.animate():!1}).scroll()},em.animations.animate=function(){em.animations.elements.each(function(){var n=$(window),i=$(this),a=n.scrollTop(),t=n.height(),e=i.offset().top;a+t>e&&i.addClass(i.data("animate"))})},em.animations.animateFirstBlockIn=function(){if(em.animations.canWe()){var n=$(".main-header > section.hero + section"),i=n.find("div").eq(0);n.hasClass("toBeAnimated")?i.css({opacity:1}):i.addClass("animated fadeInUp")}}}();
!function(){em.blog={},em.blog.slickSettings={adaptiveHeight:!0,arrows:!1,asNavFor:".js-blog-nav",cssEase:"ease",dots:!1,infinite:!1,initialSlide:1,mobileFirst:!0,slidesToShow:1,slidesToScroll:1,transformEnabled:!0,useTransform:!0,responsive:[{breakpoint:992,settings:"unslick"}]},em.blog.slickNavSettings={arrows:!1,asNavFor:".js-blog-items",centerMode:!0,centerPadding:"33.33%",cssEase:"ease",dots:!1,focusOnSelect:!0,infinite:!1,initialSlide:1,mobileFirst:!0,slidesToShow:1,slidesToScroll:1,transformEnabled:!0,useTransform:!0,responsive:[{breakpoint:992,settings:"unslick"}]},em.blog.init=function(){em.blog.setup()},em.blog.capture=function(){em.blog.elements=$(".blog")},em.blog.setup=function(){em.blog.capture(),em.blog.elements.each(function(){var i=$(this);em.blog.initSlick(i)})},em.blog.initSlick=function(i){var e=i.find(".js-blog-items"),s=i.find(".js-blog-nav");e.slick(em.blog.slickSettings),s.slick(em.blog.slickNavSettings)},em.blog.resize=function(){Modernizr.mq("only screen and (min-width: 992px)")||em.blog.elements.each(function(){var i=$(this),e=i.find(".js-blog-items"),s=i.find(".js-blog-nav");e.hasClass("slick-initialized")||e.slick(em.blog.slickSettings),s.hasClass("slick-initialized")||s.slick(em.blog.slickNavSettings)})}}();
!function(){em.config={},em.config.init=function(){},em.config.breakpoints={xs:0,sm:768,md:992,lg:1200}}();
!function(){em.dev={},em.dev.init=function(){em.dev.toolbox()},em.dev.toolbox=function(){$(".toolbox__navbar .toolbox__open").on("click",function(o){o.preventDefault(),$("body").toggleClass("js-toolbox-open"),$(this).next().toggleClass("js-show")}),$(".js-toggle-code").on("click",function(o){o.preventDefault();var t=$(this),e=t.closest(".toolbox__item");e.find(".toolbox__item__code").toggleClass("hidden")}),$(document).on("keydown",function(o){84==o.which&&$(".toolbox__navbar .toolbox__open").click()})}}();
!function(){em.download={},em.download.init=function(){em.download.setup()},em.download.capture=function(){em.download.elements=$(".js-download")},em.download.setup=function(){em.download.capture(),em.download.elements.each(function(){var a=$(this);a.click(function(e){e.preventDefault(),em.download.start(a)})})},em.download.start=function(a){var e=em.download.checkDevice(),o={iosUrl:a.data("ios"),androidUrl:a.data("android"),amazonUrl:a.data("amazon"),macUrl:a.data("mac"),facebookUrl:a.data("facebook"),appIcon:a.data("appIcon"),appKeyArt:a.data("appKeyArt"),title:a.data("title"),description:a.data("description")};e?"ios"==e&&o.iosUrl?window.location.href=o.iosUrl:"android"==e&&o.androidUrl?window.location.href=o.androidUrl:window.location.href=a.attr("href"):em.download.showPopup(o)},em.download.checkDevice=function(){return em.helper.isAndroid()?"android":em.helper.isIOS()?"ios":!1},em.download.showPopup=function(a){var e=[];e=a.appKeyArt?['<div class="mfp-inline__download mfp-inline__download--header-img">','<div class="mfp-inline__download__header" style="background-image:url('+a.appKeyArt+');">',"</div>",'<div class="mfp-inline__download__content">',"<p>Available from:</p>",em.download.buildBadgeOutput(a),"</div>","</div>"]:['<div class="mfp-inline__download">','<div class="mfp-inline__download__header">','<img class="mfp-inline__download__header__image" src="'+a.appIcon+'" alt="'+a.title+'" />','<div class="mfp-inline__download__header__content">','<h4 class="h6">'+a.title+"</h4>","<p>"+a.description+"</p>","</div>","</div>",'<div class="mfp-inline__download__content">',"<p>Available from:</p>",em.download.buildBadgeOutput(a),"</div>","</div>"],e=e.join(""),$.magnificPopup.open({items:{src:e,type:"inline"},closeBtnInside:!0,removalDelay:300,mainClass:"mfp-inline mfp-fade",callbacks:{beforeOpen:function(){$("html").addClass("mfp-active")},beforeClose:function(){$("html").removeClass("mfp-active")}}})},em.download.buildBadgeOutput=function(a){var e="";return a.iosUrl&&(e+='<a href="'+a.iosUrl+'" target="_blank" class="mfp-inline__download__content__badge"><img src="'+php_data.badges.apple.url+'" alt="'+php_data.badges.apple.alt+'" /></a>'),a.androidUrl&&(e+='<a href="'+a.androidUrl+'" target="_blank" class="mfp-inline__download__content__badge"><img src="'+php_data.badges.google.url+'" alt="'+php_data.badges.google.alt+'" /></a>'),a.amazonUrl&&(e+='<a href="'+a.amazonUrl+'" target="_blank" class="mfp-inline__download__content__badge"><img src="'+php_data.badges.amazon.url+'" alt="'+php_data.badges.amazon.alt+'" /></a>'),a.macUrl&&(e+='<a href="'+a.macUrl+'" target="_blank" class="mfp-inline__download__content__badge"><img src="'+php_data.badges.mac.url+'" alt="'+php_data.badges.mac.alt+'" /></a>'),a.facebookUrl&&(e+='<a href="'+a.facebookUrl+'" target="_blank" class="mfp-inline__download__content__badge"><img src="'+php_data.badges.facebook.url+'" alt="'+php_data.badges.facebook.alt+'" /></a>'),e}}();
!function(){em.example={},em.example.init=function(){em.example.setup()},em.example.setup=function(){}}();
!function(){em.forms={},em.forms.init=function(){em.forms.events()},em.forms.events=function(){$("select.js-on-change-submit").change(function(){this.form.submit()})}}();
!function(){em.galleryItem={},em.galleryItem.init=function(){em.galleryItem.setup()},em.galleryItem.capture=function(){em.galleryItem.elements=$(".js-gallery-item")},em.galleryItem.setup=function(){em.galleryItem.capture(),em.galleryItem.elements.magnificPopup({type:"image",mainClass:"mfp-image mfp-cover",removalDelay:500,closeBtnInside:!1,gallery:{enabled:!0,navigateByImgClick:!0}})}}();
!function(){em.gallery={},em.gallery.init=function(){em.gallery.capture(),em.gallery.setup()},em.gallery.capture=function(){em.gallery.elements=$(".js-gallery")},em.gallery.setup=function(){em.gallery.elements.each(function(){var e=$(this);em.gallery.initMasonry(e)})},em.gallery.initMasonry=function(e){var l=e.find(".gallery-block__item");e.imagesLoaded(function(){e.masonry({columnWidth:".gallery-block__sizer",itemSelector:".gallery-block__item",transitionDuration:0,percentPosition:!0}),em.gallery.animateMasonry(e,l)})},em.gallery.animateMasonry=function(e,l){e.addClass("animated fadeIn")},em.gallery.resize=function(){em.gallery.elements.each(function(){var e=$(this);e.masonry("layout")})}}();
!function(){em.gridEqualHeight={},em.gridEqualHeight.init=function(){em.gridEqualHeight.capture(),em.gridEqualHeight.setup(),$(window).resizeend(function(){em.gridEqualHeight.resize()})},em.gridEqualHeight.capture=function(){em.gridEqualHeight.elements=$(".js-grid-equal-height")},em.gridEqualHeight.reCapture=function(){em.gridEqualHeight.capture(),em.gridEqualHeight.setup()},em.gridEqualHeight.setup=function(){em.gridEqualHeight.elements.each(function(){var e=$(this),i=e.find(".js-grid-equal-height-container"),t=e.find(".js-grid-equal-height-item");if(i.length||(i=t),t.length){var g=Math.round(e.outerWidth()/$(i[0]).outerWidth()),h=0;g>1?t.each(function(e){var i,u=$(this),n=e+1;if(u.css({minHeight:0}),i=u.outerHeight()+1,i>h&&(h=i),n%g===0)em.gridEqualHeight.setHeights(t,e,g,h),h=0;else if(n==t.length){var r=n%g;1!==r&&em.gridEqualHeight.setHeights(t,e,r,h)}}):t.each(function(){$(this).css({minHeight:0})})}})},em.gridEqualHeight.setHeights=function(e,i,t,g){for(var h=[],u=i;u>i-t;u--)h.push(e[u]);$.each(h,function(){$(this).css({minHeight:g+"px"})})},em.gridEqualHeight.resize=function(){em.gridEqualHeight.setup()}}();
!function(){em.helper={},em.helper.init=function(){em.helper.imgRemoveDimensions(),em.helper.resizeVideos(),em.helper.jumpTo(),em.helper.hashCheck(),em.helper.goToNext(),em.helper.externalLinks()},em.helper.externalLinks=function(){var e=document.querySelectorAll("a");if(e.length>0)for(var t=0;t<e.length;++t){var i=new RegExp("/"+window.location.host+"/");i.test(e[t].href)||e[t].setAttribute("target","_blank")}},em.helper.hashCheck=function(){if(window.location.hash){var e=$('[data-jump="'+window.location.hash.substring(1)+'"]').eq(0);if(1==e.length){var t=e.offset();setTimeout(function(){$("html,body").stop(!0,!0).animate({scrollTop:t.top},400,function(){})},1e3)}}},em.helper.imgRemoveDimensions=function(){for(var e=document.querySelectorAll("img"),t=0,i=e.length;i>t;t++)e[t].removeAttribute("width"),e[t].removeAttribute("height")},em.helper.goToNext=function(){$(".js-go-to-next").on("click",function(e){e.preventDefault();var t=$(this),i=t.closest("section").next(),o=$(i).offset();$("html,body").stop(!0,!0).animate({scrollTop:o.top},400,function(){})})},em.helper.isAndroid=function(){return/Android/i.test(navigator.userAgent)&&!/IEMobile/i.test(navigator.userAgent)?!0:!1},em.helper.isIOS=function(){return/iPhone|iPad|iPod/i.test(navigator.userAgent)&&!/IEMobile/i.test(navigator.userAgent)?!0:!1},em.helper.resizeVideos=function(){$("iframe").each(function(){var e=$(this);e.attr("data-original-width")||(e.attr("data-original-width",e.attr("width")),e.attr("data-original-height",e.attr("height"))),e.attr("width","100%");var t=e.attr("data-original-height")*e.width()/e.attr("data-original-width");e.attr("height",t)})},em.helper.jumpTo=function(){$("body").on("click",".jump",function(){var e=$(this).attr("href");if(0===$(e).length)return!1;var t=$(e).offset();return $("html,body").stop(!0,!0).animate({scrollTop:t.top},300,function(){window.location.hash=e}),!1})}}();
!function(){em.iframeOverlay={},em.iframeOverlay.init=function(){em.iframeOverlay.setupVideo()},em.iframeOverlay.setupVideo=function(){$(".js-overlay-iframe").click(function(e){e.preventDefault(),$self=$(this),$.magnificPopup.open({items:{src:$self.attr("href")},type:"iframe",mainClass:"mfp-iframe mfp-cover",removalDelay:500,closeBtnInside:!1})})}}();
!function(){em.listItem={},em.listItem.init=function(){em.listItem.overlay()},em.listItem.overlay=function(){var t=$(".list-item--extend");t.each(function(){var t=$(this),i=t.find(".list-item__image");Modernizr.touch||t.hasClass("list-item--extend--onclick")?i.on("click",function(){$(this).toggleClass("js-active")}):i.hover(function(){$(this).toggleClass("js-active")})})}}();
!function(){em.masonry={},em.masonry.init=function(){em.masonry.setup()},em.masonry.setup=function(){var n=$("div.masonry__items");n.imagesLoaded(function(){n.masonry({itemSelector:"div.masonry__item"})})}}();
!function(){em.navigation={},em.navigation.init=function(){$(".navtoggle").on("click",function(){return $("body").toggleClass("nav-open"),!1}),$("body").on("click","body.nav-open",function(n){return".nav-bar .nav"!==n.target.className&&$("body.nav-open .navtoggle").click(),!0})}}();
!function(){em.resize={},em.resize.init=function(){em.resize.dom()},em.resize.dom=function(){$(window).resizeend(function(){$("body.nav-open .navtoggle").click(),em.animations.checkRequiredWidth(),em.helper.resizeVideos(),em.gallery.resize(),em.slideshows.resize(),em.blog.resize(),em.skrollr.resize()})}}();
!function(){em.skrollr={},em.skrollr.init=function(){em.skrollr.setup()},em.skrollr.setup=function(){Modernizr.mq("only screen and (min-width: 1025px)")&&!Modernizr.touch?em.skrollr.s=skrollr.init({}):em.skrollr.s&&(em.skrollr.s=skrollr.init().destroy()),$(window).load(function(){em.skrollr.refresh()}),setInterval(em.skrollr.refresh,1e4)},em.skrollr.resize=function(){em.skrollr.setup()},em.skrollr.refresh=function(){"undefined"!=typeof em.skrollr.s&&em.skrollr.s.refresh()}}();
!function(){em.slideshows={},em.slideshows.columnsSettings={dots:!0,speed:500,mobileFirst:!0,useTransform:!0,transformEnabled:!0,slidestoShow:1,responsive:[{breakpoint:768,settings:"unslick"}]},em.slideshows.relatedSettings={dots:!0,arrows:!1,speed:500,slide:".js-slick-related-item",mobileFirst:!0,useTransform:!0,transformEnabled:!0,slidestoShow:1,responsive:[{breakpoint:992,settings:"unslick"}]},em.slideshows.init=function(){em.slideshows.slick()},em.slideshows.slick=function(){$(".slick, .slick--hero, .slick--centermode, .slick--blocks, .slick--columns, .slick--related").on("init",function(s){em.skrollr.refresh()}),$(".slick").slick({dots:!0,arrows:!1,autoplay:!0,autoplaySpeed:4e4,speed:500,fade:!0,cssEase:"linear",centerMode:!0,slidesToScroll:1}),$(".slick--hero").slick({dots:!1,arrows:!1,autoplay:!0,autoplaySpeed:4e3,speed:500,fade:!0,cssEase:"linear",slidesToScroll:1}),$(".slick--centermode").slick({dots:!0,speed:500,slidesToShow:3,responsive:[{breakpoint:1024,settings:{arrows:!0,slidesToShow:2}},{breakpoint:600,settings:{slidesToShow:1}}]}),$(".slick--blocks").slick({dots:!0,arrows:!1,speed:500,autoplay:!0,autoplaySpeed:5e3,useTransform:!0,transformEnabled:!0,adaptiveHeight:!0}),$(".slick--columns").find(".columns__row").slick(em.slideshows.columnsSettings),$(".slick--related").slick(em.slideshows.relatedSettings)},em.slideshows.resize=function(){var s=$(".slick--columns").find(".columns__row");Modernizr.mq("only screen and (min-width: 768px)")||s.hasClass("slick-initialized")||s.slick(em.slideshows.columnsSettings);var e=$(".slick--related");Modernizr.mq("only screen and (min-width: 992px)")||e.hasClass("slick-initialized")||e.slick(em.slideshows.relatedSettings)}}();
!function(){em.sticky={},em.sticky.init=function(){em.sticky.setup()},em.sticky.setup=function(){$(".blog__content, .blog__sidebar").theiaStickySidebar({additionalMarginTop:30})}}();
!function(){em.videoOverlay={},em.videoOverlay.init=function(){em.videoOverlay.setupVideo()},em.videoOverlay.setupVideo=function(){$(".js-overlay-video").click(function(e){e.preventDefault(),$self=$(this),$.magnificPopup.open({items:{src:$self.attr("href")},type:"iframe",mainClass:"mfp-video mfp-cover",removalDelay:500,closeBtnInside:!1,iframe:{patterns:{youtube:{index:"youtube.com/",id:"v=",src:"//www.youtube.com/embed/%id%?showinfo=0&color=white&rel=0&autoplay=1"}}},callbacks:{open:function(){em.videoOverlay.pauseBGVideos()},close:function(){em.videoOverlay.playBGVideos()}}})})},em.videoOverlay.pauseBGVideos=function(){$.each(em.youtubeAPIPlayer.players,function(){this.pauseVideo()})},em.videoOverlay.playBGVideos=function(){$.each(em.youtubeAPIPlayer.players,function(){this.playVideo()})}}();
!function(){em.youtubeAPIPlayer={},em.youtubeAPIPlayer.loopRefs=[],em.youtubeAPIPlayer.players=[],em.youtubeAPIPlayer.init=function(){if(0===$("script[src$='www.youtube.com/iframe_api']").length){var e=document.createElement("script");e.src="https://www.youtube.com/iframe_api";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(e,a)}},em.youtubeAPIPlayer.canAutoplay=function(){return window.innerWidth<768?0:/iPad|iPhone/.test(navigator.userAgent)?0:1},window.onYouTubeIframeAPIReady=function(){$(".youtube-api-player").each(function(){var e=$(this);em.youtubeAPIPlayer.canAutoplay()||(e.data("controls",1),e.data("loop",0),e.data("autoplay",0),e.data("autoplay-viewport",0));var a=e.data("video-id"),t=(Number(e.data("sound"))||0,Number(e.data("autoplay"))||0),o=Number(e.data("autoplay-viewport"))||0,u=(Number(e.data("loop"))||0,Number(e.data("mask-logo"))||0,Number(e.data("controls"))||0),r=Number(e.data("showinfo"))||0,n=Number(e.data("related"))||0,i=Number(e.data("cover"))||0,y=Number(e.data("start"))||0,l=Number(e.data("end"))||0;if(i&&e.css({opacity:0}),!i||!Modernizr.touch){var d="em-player-"+a+"-"+Math.ceil(9999*Math.random());$('<div id="'+d+'"></div>').appendTo(e);var m=new YT.Player(d,{height:"390",width:"640",videoId:a,playerVars:{autoplay:o?0:t,controls:u,showinfo:r,start:y,end:l,rel:n,iv_load_policy:3,wmode:"opaque"},events:{onReady:em.youtubeAPIPlayer.onReady,onStateChange:em.youtubeAPIPlayer.onPlayerStateChange}});em.youtubeAPIPlayer.players.push(m)}})},em.youtubeAPIPlayer.onReady=function(e){var a=e.target,t=$(a.getIframe().parentNode),o=Number(t.data("sound"))||0,u=Number(t.data("loop"))||0,r=Number(t.data("autoplay"))||0,n=Number(t.data("autoplay-viewport"))||0,i=Number(t.data("cover"))||0,y=Number(t.data("start"))||0,l=Number(t.data("end"))||0;o||e.target.mute(),n&&(em.youtubeAPIPlayer.playIfInViewport(a,t,u,y,l),$(window).on("scroll",function(){em.youtubeAPIPlayer.playIfInViewport(a,t,u,y,l)})),!n&&r&&u&&em.youtubeAPIPlayer.makeLoop(a,y,l),$(window).resizeend(function(){em.youtubeAPIPlayer.onResize(t)}),i&&(em.youtubeAPIPlayer.videoFill(t),setTimeout(function(){t.css({opacity:1,transition:"all 2s ease"})},1e3))},em.youtubeAPIPlayer.onPlayerStateChange=function(e){var a=e.target;$(a.getIframe().parentNode)},em.youtubeAPIPlayer.playIfInViewport=function(e,a,t,o,u){em.helper.inViewPort(a[0])?a.data("playing")||(a.data("playing",1),e.playVideo(),t&&(em.youtubeAPIPlayer.makeLoop(e,o,u),console.log("inviewport"))):a.data("playing")&&(a.data("playing",0),e.pauseVideo())},em.youtubeAPIPlayer.makeLoop=function(e,a,t){a="undefined"!=typeof a?a:0,t="undefined"!=typeof t?t:0;var o=$(e.getIframe()).attr("id"),u=0,r=1,n=0!==t?t:e.getDuration(),i=n-a-r;"undefined"!=typeof em.youtubeAPIPlayer.loopRefs[o]&&(e.seekTo(a+u),clearInterval(em.youtubeAPIPlayer.loopRefs[o])),em.youtubeAPIPlayer.loopRefs[o]=setInterval(function(){e.getPlayerState()==YT.PlayerState.PLAYING&&e.seekTo(a+u)},1e3*i)},em.youtubeAPIPlayer.videoFill=function(e,a){var t,o;a="undefined"==typeof a?16/9:a,e.width()/e.height()<a?(t=e.height(),o=t*a):(o=e.width(),t=o/a),e.find("iframe").css({height:t+"px",width:o+"px"})},em.youtubeAPIPlayer.onResize=function(e){var a=Number(e.data("cover"))||0;a&&em.youtubeAPIPlayer.videoFill(e)},em.youtubeAPIPlayer.pauseVideo=function(e){e.pauseVideo()},em.youtubeAPIPlayer.playVideo=function(e){e.playVideo()}}();